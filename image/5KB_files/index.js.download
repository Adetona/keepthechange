var api=new Api;api.loadTemplate("index",function(a){function b(){q=setTimeout(function(){$(".fondSlideImg").eq(slideImgIndex).removeClass("open").addClass("close"),nextImgIndex=3==slideImgIndex?0:slideImgIndex+1,$(".fondSlideImg").eq(nextImgIndex).removeClass("close").addClass("open"),slideImgIndex=nextImgIndex,b()},3500)}$("#TemplateContent").html(a),$("head").append('<link rel="canonical" href="'+api.dictionary.meta_canonical+'"/>');var c,d,e,f=$('<div class="icon loadicon"><i class="fa fa-spinner fa-spin fa-4x"></i></div>'),g=$('<div class="icon"></div>'),h=$("#category"),j=!0,k=!0,l=1e3*Math.random(),m=this;m.objiconlist;var n=$(".language select");api.setMenu($("body"),window,document),api.getLanguageList(function(a){$.each(a,function(a,b){n.append("<option value="+b.code+">"+b.code+"</option>")}),n.val(api.language)}),$(".language select").on("change",function(){window.location="http://"+$(this).val()+".freelogodesign.org/"}),$("#companyName").focus(),$.ajax({type:"post",url:api.category+"list",data:JSON.stringify({status:"1"}),dataType:"json",contentType:"application/json; charset=utf-8"}).done(function(a){if("1"==a.status&&a.obj&&a.obj.length>0){$.each(a.obj,function(a,b){b.description=api.dictionary["category_"+b.id],void 0==b.description&&(b.description="undefined")});var b=a.obj;b.sort(function(a,b){return a.description.toUpperCase()>b.description.toUpperCase()?1:a.description<b.description?-1:void 0});$.each(b,function(a,b){0!=b.qtd&&h.append($("<option value='"+b.id+"'>"+b.description+"</option>"))})}}),viewport=function(){var a=window,b="inner";return"innerWidth"in window||(b="client",a=document.documentElement||document.body),{width:a[b+"Width"],height:a[b+"Height"]}},SlideNbr=function(){e=viewport().width>1024?4:viewport().width>864?3:viewport().width>600?2:1},SlideNbr(),LoadSpinners=function(){for(i=0;e>i;i++)$(".list .page").append(f.clone())},LoadSpinners(),$(window).on("resize orientationchange",function(){SlideNbr(),loadIcons(d,e)}),populateData=function(){var a=$("#companyName").val().trim();a&&""!=a.trim()||(a="Company Name"),$(".list .page").empty(),$.each(m.objiconlist,function(b,c){var d=g.clone(),e=getthumb(c,a);d.append(e.svg),d.hide(),$(".list .page").append(d),k?d.fadeIn(1e3):d.show(),d.on("click",function(){window.location=api.editorPage+"?lang="+api.language+"&logo="+c.guid+"&companyname="+$("#companyName").val()})}),k||(k=!0)},loadIcons=function(a,b){var e=JSON.stringify({page:a,pagesize:b,category:h.val(),owner:void 0,status:1,randomseed:l});$.ajax({type:"post",url:api.logo+"list",data:e,contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(a){c=a.vars.pages,d=a.vars.curpage,$(".list .page .loadicon").fadeOut(function(){$(this).remove()}),j=!1,a.obj&&(m.objiconlist=a.obj,populateData())})},changeSettings=function(){clearTimeout(p),p=setTimeout(function(){loadIcons(d,e)},1e3)},(loadFonts=function(){$.ajax({type:"post",url:api.font+"list",contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(a){var b=a.obj,c=[];$.each(b,function(a,b){b.googleimportstring&&c.push(b.googleimportstring)}),WebFontConfig={google:{families:c}};var d=document.createElement("script");d.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",d.type="text/javascript",d.async="true";var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(d,f),loadIcons(void 0,e)})})();var o,p;$(".fondSlideImg");var q;slideImgIndex=0,b(),$("#companyName").on("keyup",function(){clearTimeout(o),o=setTimeout(function(){k=!1,populateData()},1e3)}),$(".logoExample").on("click",function(){var a=$(this).attr("data-guid");window.location=api.editorPage+"?lang="+api.language+"&logo="+a+"&companyname="+$("#companyName").val()}),h.on("change",function(){if(d=1,!j){for($(".list .page").empty(),i=0;e>i;i++)$(".list .page").append(f.clone());j=!0}changeSettings()}),$("#previewslider .next").on("click",function(){if(c>d){for(d++,$(".list .page").empty(),i=0;e>i;i++)$(".list .page").append(f.clone());loadIcons(d,e)}}),$("#previewslider .prev").on("click",function(){if(d>1){for(d--,$(".list .page").empty(),i=0;e>i;i++)$(".list .page").append(f.clone());loadIcons(d,e)}}),$("#start").on("click",function(){window.location=api.editorPage+"?lang="+api.language+"&companyname="+$("#companyName").val()+"&category="+h.val()}),$("#toAllLogos").on("click",function(){window.location=api.editorPage+"?lang="+api.language+"&companyname="+$("#companyName").val()+"&category="+h.val()}),$("#startNew, #startNewWhy").on("click",function(){window.location=api.editorPage+"?lang="+api.language})});